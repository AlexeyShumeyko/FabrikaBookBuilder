<Window x:Class="PhotoBookRenamer.Presentation.Dialogs.BookSelectionDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Выберите книги" 
        Height="480" Width="480"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        Background="Transparent"
        WindowStyle="None"
        AllowsTransparency="True">
    <Border Background="{StaticResource BackgroundCard}" 
            CornerRadius="20"
            BorderThickness="0"
            ClipToBounds="False">
        <Border.Effect>
            <DropShadowEffect BlurRadius="48" ShadowDepth="0" Opacity="0.3" Color="#000000" RenderingBias="Quality"/>
        </Border.Effect>
        <Grid Margin="32">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
            
            <TextBlock Grid.Row="0" 
                       Text="Выберите книги для применения файла:" 
                       Style="{StaticResource FluentSubtitleStyle}"
                       Margin="0,0,0,24"/>
            
            <ScrollViewer Grid.Row="1" Margin="0,0,0,28">
                <ItemsControl x:Name="BooksListBox">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <Border Background="{StaticResource FluentCardBackground}"
                                    BorderBrush="{StaticResource FluentBorder}"
                                    BorderThickness="1"
                                    CornerRadius="8"
                                    Padding="16,12"
                                    Margin="0,8">
                                <CheckBox Content="{Binding Name}" 
                                          IsChecked="{Binding IsSelected, Mode=TwoWay}"
                                          Style="{StaticResource FluentBodyStyle}"
                                          FontSize="14"/>
                            </Border>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>
            </ScrollViewer>
            
            <StackPanel Grid.Row="2" Orientation="Horizontal" 
                        HorizontalAlignment="Right">
                <Button Content="OK" 
                        Click="OkButton_Click" 
                        Style="{StaticResource FluentFilledButton}"
                        Padding="24,12" 
                        Margin="0,0,12,0"
                        MinWidth="110"
                        IsDefault="True"
                        FontSize="14"/>
                <Button Content="Отмена" 
                        Click="CancelButton_Click" 
                        Style="{StaticResource FluentOutlinedButton}"
                        Padding="24,12"
                        MinWidth="110"
                        IsCancel="True"
                        FontSize="14"/>
            </StackPanel>
        </Grid>
    </Border>
</Window>

